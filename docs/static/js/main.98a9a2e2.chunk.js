(this["webpackJsonpgoogle-speech-to-text-visualizer"]=this["webpackJsonpgoogle-speech-to-text-visualizer"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(6),c=n.n(r),l=(n(11),n(2)),i=n(3),o=n(5);n(12);function u(e){var t=parseInt(e,10),n=Math.floor(t/3600),s=Math.floor((t-3600*n)/60),a=t-3600*n-60*s;return n<10&&(n="0"+n),s<10&&(s="0"+s),a<10&&(a="0"+a),0===parseInt(n)?s+":"+a:n+":"+s+":"+a}var d=n(0);function b(e){var t=e.conversation,n=e.colors,s=e.users;return Object(d.jsx)("div",{className:"w-100",children:t&&t.results.map((function(e){var t=e.alternatives.map((function(e){return e.transcript}));if(t.join("").length){var a=e.alternatives[0].words[0].startTime;return Object(d.jsx)("div",{className:"pb1 flex",children:Object(d.jsxs)("span",{className:"code f7 black-40",children:[u(a)," ",Object(d.jsxs)("span",{className:"f5 fw4 sans-serif dark-gray",children:[Object(d.jsxs)("span",{className:"fw6 ".concat(n[e.channelTag-1]),children:[s[e.channelTag],":"," "]}),t.join(" ")]})]})})}}))})}function j(e){return e.includes(".")?parseInt(e.replace(".","").replace("s",""),10)/100:1e3*parseInt(e.replace("s",""),10)/100}function h(e){var t=e.users,n=e.user,s=e.conversation,a=e.colors,r=j(s.results[s.results.length-1].resultEndTime);return Object(d.jsxs)("div",{className:"",style:{width:"".concat(100/Object.keys(t).length,"%")},children:[Object(d.jsxs)("h3",{children:["Timeline of ",t[n]]}),Object(d.jsx)("div",{className:"relative",style:{width:"95%",height:r},children:s&&s.results.filter((function(e){return e.channelTag===parseInt(n,10)})).map((function(e){var n=e.alternatives.map((function(e){return e.transcript}));if(n.join("").length){var s=e.alternatives[0].words[0].startTime;if(!e.alternatives[0].words[0].startTime)return null;var r=j(e.resultEndTime)-j(e.alternatives[0].words[0].startTime);return Object(d.jsx)("div",{className:"pb1 flex absolute left-0 pa2",style:{top:j(e.alternatives[0].words[0].startTime),minHeight:"".concat(r<30?30:r,"px"),boxShadow:"rgb(85 85 85 / 25%) 3px 4px 6px 1px",borderRadius:"0 15px 15px 15px"},children:Object(d.jsxs)("span",{className:"code f7 black-40",children:[u(s)," ",Object(d.jsxs)("span",{className:"fw4 sans-serif dark-gray",style:{fontSize:18},children:[Object(d.jsxs)("span",{className:"fw6 ".concat(a[e.channelTag-1]),children:[t[e.channelTag],":"," "]}),n.join(" ")]})]})})}}))})]})}function m(e){var t=e.users,n=e.conversation,s=e.colors;return Object(d.jsx)("div",{className:"flex w-100",children:Object.keys(t).map((function(e){return Object(d.jsx)(h,{user:e,users:t,conversation:n,colors:s})}))})}function f(e){return e.results.reduce((function(e,t){return Object(o.a)(Object(i.a)({},t.channelTag,null),e)}),{})}var x=["dark-blue","dark-red","dark-green","dark-orange"];var p=function(){var e=Object(s.useState)(window.localStorage.getItem("lastConversation")),t=Object(l.a)(e,2),n=t[0],a=t[1],r=n?JSON.parse(n):null,c=Object(s.useState)(n?r:null),i=Object(l.a)(c,2),u=i[0],j=i[1],h=Object(s.useState)(n?f(r):{}),p=Object(l.a)(h,2),v=p[0],O=p[1],g=Object(s.useState)("timelines"),w=Object(l.a)(g,2),N=w[0],y=w[1],k=function(e){var t=e.target.name,n=Object(o.a)({},v);n[t]=e.target.value,O(n)};return Object(d.jsxs)("div",{className:"App pa4 sans-serif mid-gray flex flex-column justify-center items-center w-100",children:[Object(d.jsx)("h2",{className:"dib mt0 f3 dark-blue mb2",children:"\ud83d\udc40 Google-speech-to-text Visualizer"}),Object(d.jsxs)("div",{className:"",style:{minWidth:800},children:[u?null:Object(d.jsxs)("div",{className:"w-100",children:[Object(d.jsxs)("div",{className:"pt3",children:["\u2b07\ufe0f \xa0 Paste the content from a json transcipt bellow to get a version easily readable and reusable.",Object(d.jsx)("div",{className:"pv3 fw2",children:"\ud83d\udd75\ufe0f This code runs in your browser and do not share your transcript to anyone."})]}),Object(d.jsx)("textarea",{type:"textarea",name:"textValue",value:n,onChange:function(e){var t=JSON.parse(e.target.value),n=f(t);O(n),j(t),window.localStorage.setItem("lastConversation",JSON.stringify(t))},className:"dib w-100 b--dark-blue br2",style:{minHeight:600,whiteSpace:"pre-wrap"}})]}),Object(d.jsxs)("div",{className:"ml4 w-100",children:[u&&u.results.length>0?Object(d.jsxs)("div",{className:"flex mt4 justify-between",children:[Object(d.jsx)("div",{className:"flex",children:Object.keys(v).map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("label",{children:["\ud83d\udc64 n\xb0",e]}),Object(d.jsx)("input",{type:"text",name:e,onChange:k,className:"mh2 pa2 br2 b--".concat(x[e-1]),placeholder:"Name",style:{width:110}})]})}))}),Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsx)("button",{onClick:function(){window.localStorage.removeItem("lastConversation",null),a(null),j(null)},className:"bg-white b-blue blue white br2 ba pa2 f5 ph3 fw5 mr3",children:"Reset"}),Object(d.jsx)("button",{onClick:function(){!function(e){var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}(document.getElementById("transformed-text"))},className:"bg-dark-blue white br2 ba pa2 f5 ph3 fw5",children:"Select all the text"})]})]}):null,u?Object(d.jsxs)("div",{id:"transformed-text",className:"mt3 w-100",style:{minWidth:800,maxWidth:800},children:[Object(d.jsxs)("div",{className:"flex w-100 bb mb3",style:{borderBottomColor:"lightgray"},children:[Object(d.jsx)("div",{href:"#",className:"link blue pa2 pointer ".concat("timelines"===N?"fw7":""),onClick:function(){return y("timelines")},children:"Timelines"}),Object(d.jsx)("div",{href:"#",className:"link blue pa2 pointer ".concat("textOnly"===N?"fw7":""),onClick:function(){return y("textOnly")},children:"Text only"})]}),"textOnly"===N?Object(d.jsx)(b,{conversation:u,colors:x,users:v}):null,"timelines"===N?Object(d.jsx)(m,{conversation:u,colors:x,users:v}):null]}):null]})]})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),v()}},[[14,1,2]]]);
//# sourceMappingURL=main.98a9a2e2.chunk.js.map